{"ast":null,"code":"import _taggedTemplateLiteral from\"/Users/hyeonghan/VSCode/React/Serendy/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/taggedTemplateLiteral\";import _objectSpread from\"/Users/hyeonghan/VSCode/React/Serendy/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _regeneratorRuntime from\"/Users/hyeonghan/VSCode/React/Serendy/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/Users/hyeonghan/VSCode/React/Serendy/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"/Users/hyeonghan/VSCode/React/Serendy/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";var _templateObject,_templateObject2,_templateObject3,_templateObject4,_templateObject5,_templateObject6,_templateObject7,_templateObject8,_templateObject9;import React,{useEffect,useState}from'react';import styled from'styled-components';import{FontAwesomeIcon}from'@fortawesome/react-fontawesome';import{faCheck,faLock,faUserAlt,faUserSecret}from'@fortawesome/free-solid-svg-icons';import{useForm}from'react-hook-form';import{theme}from'../../style/theme';import authRepository from'../../repository/authRepository';import{zoomIn}from'../../style/keyframes';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var SignUpBox=function SignUpBox(_ref){var submit=_ref.submit;var _useForm=useForm(),register=_useForm.register,handleSubmit=_useForm.handleSubmit,watch=_useForm.watch,setError=_useForm.setError,trigger=_useForm.trigger,errors=_useForm.formState.errors;var _useState=useState(false),_useState2=_slicedToArray(_useState,2),isChecked=_useState2[0],setIsChecked=_useState2[1];// 계정 중복체크\n// 회원가입\nvar signUp=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(data){var _yield$authRepository,message;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.prev=0;_context.next=3;return authRepository.signUp(data);case 3:_yield$authRepository=_context.sent;message=_yield$authRepository.data.message;if(message==='SignUp Success'){submit();}_context.next=11;break;case 8:_context.prev=8;_context.t0=_context[\"catch\"](0);alert('현재 서버가 점검중입니다');case 11:;case 12:case\"end\":return _context.stop();}}},_callee,null,[[0,8]]);}));return function signUp(_x){return _ref2.apply(this,arguments);};}();// 중복체크\nvar accountCheck=/*#__PURE__*/function(){var _ref3=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(){var account,_yield$authRepository2,message;return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:_context2.next=2;return trigger('account');case 2:if(!errors.account){_context2.next=6;break;}return _context2.abrupt(\"return\");case 6:account=watch('account');_context2.next=9;return authRepository.accountCheck(account);case 9:_yield$authRepository2=_context2.sent;message=_yield$authRepository2.data.message;if(!(message==='available')){_context2.next=15;break;}return _context2.abrupt(\"return\",setIsChecked(true));case 15:if(message==='already exist'){setError('account',{message:'이미 사용중인 아이디입니다'});setIsChecked(false);}case 16:;case 17:;case 18:case\"end\":return _context2.stop();}}},_callee2);}));return function accountCheck(){return _ref3.apply(this,arguments);};}();var onSubmit=function onSubmit(data){if(!isChecked){alert('중복확인을 해주세요');return;};signUp(data);};useEffect(function(){setIsChecked(false);},[watch('account')]);// eslint-disable-line\nreturn/*#__PURE__*/_jsx(\"form\",{onSubmit:handleSubmit(onSubmit),children:/*#__PURE__*/_jsxs(Box,{children:[/*#__PURE__*/_jsxs(Column,{children:[/*#__PURE__*/_jsxs(Row,{children:[/*#__PURE__*/_jsx(Icon,{icon:faUserAlt,color:errors.account?theme.colors.red:theme.colors.white}),/*#__PURE__*/_jsx(Input,_objectSpread({placeholder:\"\\uC544\\uC774\\uB514\"},register('account',{required:'아이디를 입력해주세요',pattern:{value:/^[a-zA-Z0-9]+$/,message:'영문과 숫자만을 조합하여 입력해주세요'},minLength:{value:6,message:'아이디는 최소 6자리입니다'},maxLength:{value:15,message:'아이디는 최대 15자리입니다'}}))),/*#__PURE__*/_jsx(DupliBtn,{onClick:accountCheck,type:\"button\",children:\"\\uC911\\uBCF5\\uD655\\uC778\"})]}),!isChecked?!errors.account?/*#__PURE__*/_jsx(Msg,{children:\"\\u3164\"}):/*#__PURE__*/_jsxs(ErrorMsg,{children:[\" \",errors.account.message,\" \"]}):/*#__PURE__*/_jsx(Msg,{style:{color:theme.colors.green},children:\" \\uC0AC\\uC6A9\\uAC00\\uB2A5\\uD55C \\uC544\\uC774\\uB514\\uC785\\uB2C8\\uB2E4 \"})]}),/*#__PURE__*/_jsxs(Column,{children:[/*#__PURE__*/_jsxs(Row,{children:[/*#__PURE__*/_jsx(Icon,{icon:faLock,color:errors.password?theme.colors.red:theme.colors.white}),/*#__PURE__*/_jsx(Input,_objectSpread({placeholder:\"\\uBE44\\uBC00\\uBC88\\uD638\",autoComplete:\"off\",type:\"password\"},register('password',{required:'비밀번호를 입력해주세요',minLength:{value:8,message:'비밀번호는 최소 8자리입니다'},maxLength:{value:20,message:'비밀번호는 최대 20자리입니다'}})))]}),errors.password?/*#__PURE__*/_jsxs(ErrorMsg,{children:[\" \",errors.password.message,\" \"]}):/*#__PURE__*/_jsx(Msg,{children:\"\\u3164\"})]}),/*#__PURE__*/_jsxs(Column,{children:[/*#__PURE__*/_jsxs(Row,{children:[/*#__PURE__*/_jsx(Icon,{icon:faCheck,color:errors.check?theme.colors.red:theme.colors.white}),/*#__PURE__*/_jsx(Input,_objectSpread({placeholder:\"\\uBE44\\uBC00\\uBC88\\uD638 \\uD655\\uC778\",autoComplete:\"off\",type:\"password\"},register('check',{required:true,validate:function validate(check){return check===watch('password');}})))]}),!errors.password&&errors.check?/*#__PURE__*/_jsx(ErrorMsg,{children:\" \\uBE44\\uBC00\\uBC88\\uD638\\uAC00 \\uC77C\\uCE58\\uD558\\uC9C0 \\uC54A\\uC2B5\\uB2C8\\uB2E4 \"}):/*#__PURE__*/_jsx(Msg,{children:\"\\u3164\"})]}),/*#__PURE__*/_jsxs(Column,{children:[/*#__PURE__*/_jsxs(Row,{children:[/*#__PURE__*/_jsx(Icon,{icon:faUserSecret,color:errors.secretMessage?theme.colors.red:theme.colors.white}),/*#__PURE__*/_jsx(Input,_objectSpread({placeholder:\"\\uC554\\uD638 \\uBA54\\uC138\\uC9C0\"},register('secretMessage',{required:'암호 메세지를 작성해주세요',minLength:{value:3,message:'암호 메세지는 최소 3자 입니다'},maxLength:{value:20,message:'암호 메시지는 최대 20자 입니다'}})))]}),errors.secretMessage?/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsxs(ErrorMsg,{children:[\" \",errors.secretMessage.message,\" \"]}),/*#__PURE__*/_jsx(Msg,{children:\"\\u3164\"})]}):/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(Msg,{children:\" \\uC554\\uD638 \\uBA54\\uC138\\uC9C0\\uB294 \\uB098\\uC911\\uC5D0 \\uBE44\\uBC00\\uBC88\\uD638 \\uCC3E\\uAE30\\uC5D0 \\uC0AC\\uC6A9\\uB429\\uB2C8\\uB2E4 \"}),/*#__PURE__*/_jsx(Msg,{children:\" \\uC790\\uC2E0\\uB9CC\\uC758 \\uAC1C\\uC131 \\uB118\\uCE58\\uB294 \\uB2E8\\uC5B4\\uB85C \\uC124\\uC815\\uD574\\uBCF4\\uC138\\uC694! \"})]})]}),/*#__PURE__*/_jsx(Button,{type:\"submit\",children:\"\\uD655\\uC778\"})]})});};export default SignUpBox;var Box=styled.div(_templateObject||(_templateObject=_taggedTemplateLiteral([\"\\n    display: flex;\\n    flex-direction: column;\\n    justify-content: flex-start;\\n    align-items: center;\\n    width: 600px;\\n    height: 640px;\\n    animation: \",\" .6s ease;\\n\"])),zoomIn);var Column=styled.div(_templateObject2||(_templateObject2=_taggedTemplateLiteral([\"\\n    display: flex;\\n    flex-direction: column;\\n    justify-content: center;\\n    align-items: center;\\n    margin-bottom: 10px;\\n\"])));var Row=styled.div(_templateObject3||(_templateObject3=_taggedTemplateLiteral([\"\\n    position: relative;\\n    width: 420px;\\n    display: flex;\\n    flex-direction: row;\\n    justify-content: center;\\n    align-items: center;\\n    margin-bottom: 30px;\\n    padding-bottom: 10px;\\n    border-bottom: 1px solid \",\";\\n    @media only screen and (max-width: 600px) {\\n        width: 320px;\\n        margin-bottom: 20px;\\n    };\\n\"])),function(_ref4){var theme=_ref4.theme;return theme.colors.white;});var Input=styled.input(_templateObject4||(_templateObject4=_taggedTemplateLiteral([\"\\n    all: unset;\\n    width: 350px;\\n    height: 40px;\\n    font-size: 21px;\\n    padding-left: 20px;\\n    color: \",\";\\n    @media only screen and (max-width: 600px) {\\n        width: 260px;\\n        font-size: 17px;\\n    };\\n\"])),function(_ref5){var theme=_ref5.theme;return theme.colors.white;});var Button=styled.button(_templateObject5||(_templateObject5=_taggedTemplateLiteral([\"\\n    all: unset;\\n    width: 200px;\\n    height: 55px;\\n    border-radius: 40px;\\n    background-color: \",\";\\n    color: \",\";\\n    font-size: 20px;\\n    text-align: center;\\n    margin-top: 20px;\\n    margin-bottom: 50px;\\n    cursor: pointer;\\n    transition: .3s ease;\\n    &:hover {\\n        background-color: \",\";\\n        color: \",\";\\n    };\\n    @media only screen and (max-width: 600px) {\\n        width: 170px;\\n        height: 45px;\\n        font-size: 17px;\\n    };\\n\"])),function(_ref6){var theme=_ref6.theme;return theme.colors.mainBlue;},function(_ref7){var theme=_ref7.theme;return theme.colors.white;},function(_ref8){var theme=_ref8.theme;return theme.colors.white;},function(_ref9){var theme=_ref9.theme;return theme.colors.mainBlue;});var DupliBtn=styled(Button)(_templateObject6||(_templateObject6=_taggedTemplateLiteral([\"\\n    position: absolute;\\n    right: 0px;\\n    top: 0px;\\n    width: 90px;\\n    height: 40px;\\n    font-size: 19px;\\n    margin-bottom: 10px;\\n    margin-top: 0;\\n    @media only screen and (max-width: 600px) {\\n        width: 90px;\\n        height: 30px;\\n        font-size: 15px;\\n    };\\n\"])));var Icon=styled(FontAwesomeIcon)(_templateObject7||(_templateObject7=_taggedTemplateLiteral([\"\\n    font-size: 35px;\\n    color: \",\";\\n    @media only screen and (max-width: 600px) {\\n        font-size: 25px;\\n    };\\n\"])),function(_ref10){var color=_ref10.color;return color;});var ErrorMsg=styled.div(_templateObject8||(_templateObject8=_taggedTemplateLiteral([\"\\n    font-size: 16px;\\n    transform: translateY(-10px);\\n    color: \",\";\\n\"])),function(_ref11){var theme=_ref11.theme;return theme.colors.red;});var Msg=styled(ErrorMsg)(_templateObject9||(_templateObject9=_taggedTemplateLiteral([\"\\n    color: \",\";\\n\"])),function(_ref12){var theme=_ref12.theme;return theme.colors.white;});","map":{"version":3,"sources":["/Users/hyeonghan/VSCode/React/Serendy/client/src/components/SignUp/SignUpBox.tsx"],"names":["React","useEffect","useState","styled","FontAwesomeIcon","faCheck","faLock","faUserAlt","faUserSecret","useForm","theme","authRepository","zoomIn","SignUpBox","submit","register","handleSubmit","watch","setError","trigger","errors","formState","isChecked","setIsChecked","signUp","data","message","alert","accountCheck","account","onSubmit","colors","red","white","required","pattern","value","minLength","maxLength","color","green","password","check","validate","secretMessage","Box","div","Column","Row","Input","input","Button","button","mainBlue","DupliBtn","Icon","ErrorMsg","Msg"],"mappings":"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","sourcesContent":["import React, { useEffect, useState } from 'react';\nimport styled from 'styled-components';\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport { faCheck, faLock, faUserAlt, faUserSecret } from '@fortawesome/free-solid-svg-icons';\nimport { useForm, SubmitHandler } from 'react-hook-form';\nimport { theme } from '../../style/theme';\nimport authRepository from '../../repository/authRepository';\nimport { zoomIn } from '../../style/keyframes';\nimport { ISignUpData } from '../../interfaces';\n\nconst SignUpBox: React.FC<{ submit: () => void }>= ({ submit }) => {\n    const { register, handleSubmit, watch, setError, trigger, formState: { errors } } = useForm<ISignUpData>();\n    const [ isChecked, setIsChecked ] = useState<boolean>(false); // 계정 중복체크\n\n    // 회원가입\n    const signUp = async (data: ISignUpData): Promise<void> => {\n        try{\n            const { data: { message }} = await authRepository.signUp(data);\n            if ((message === 'SignUp Success')) {\n                submit();\n            }\n        } catch(err) {\n            alert('현재 서버가 점검중입니다');\n        };\n    };\n\n    // 중복체크\n    const accountCheck = async () => {\n        await trigger('account'); // 트리거 호출해서 에러 확인\n        if (errors.account) { // 아이디 형식에 문제가 있으면 리턴\n            return\n        } else {\n            const account = watch('account');\n            const { data: { message }} = await authRepository.accountCheck(account);\n            if ((message === 'available' )) {\n                return setIsChecked(true);\n            } else if ((message === 'already exist')){\n                setError('account', {\n                    message: '이미 사용중인 아이디입니다'\n                });\n                setIsChecked(false);\n            };\n        };\n    };\n\n    const onSubmit: SubmitHandler<ISignUpData> = (data) => {\n        if (!isChecked) {\n            alert('중복확인을 해주세요');\n            return;\n        };\n        signUp(data);\n    };\n\n    useEffect(() => {\n        setIsChecked(false);\n    }, [watch('account')]); // eslint-disable-line\n\n    return (\n        <form onSubmit={handleSubmit(onSubmit)} >\n        <Box>\n            <Column>\n                <Row>\n                    <Icon icon={faUserAlt}\n                        color={errors.account ? (theme.colors.red) : (theme.colors.white)}\n                    />\n                    <Input placeholder='아이디'\n                        {...register('account', {\n                            required: '아이디를 입력해주세요',\n                            pattern: { value: /^[a-zA-Z0-9]+$/, message: '영문과 숫자만을 조합하여 입력해주세요'},\n                            minLength: { value: 6, message: '아이디는 최소 6자리입니다' },\n                            maxLength: { value: 15, message: '아이디는 최대 15자리입니다' },\n                        })}\n                    />\n                    <DupliBtn onClick={accountCheck}\n                        type='button'\n                    >\n                        중복확인\n                    </DupliBtn>\n                </Row>\n                {!isChecked ? (!errors.account ? <Msg>ㅤ</Msg> : <ErrorMsg> {errors.account.message} </ErrorMsg>) : <Msg style={{ color: theme.colors.green }}> 사용가능한 아이디입니다 </Msg> }\n            </Column>\n            <Column>\n                <Row>\n                    <Icon icon={faLock}\n                        color={errors.password ? (theme.colors.red) : (theme.colors.white)}\n                    />\n                    \n                    <Input placeholder='비밀번호'\n                        autoComplete='off'\n                        type='password'\n                        {...register('password', {\n                            required: '비밀번호를 입력해주세요',\n                            minLength: { value: 8, message: '비밀번호는 최소 8자리입니다' },\n                            maxLength: { value: 20, message: '비밀번호는 최대 20자리입니다' }\n                        })}\n                    />\n                </Row>\n                {errors.password ? <ErrorMsg> {errors.password.message} </ErrorMsg> : <Msg>ㅤ</Msg>}\n            </Column>\n            <Column>\n                <Row>\n                    <Icon icon={faCheck}\n                        color={errors.check ? (theme.colors.red) : (theme.colors.white)}\n                    />\n                    <Input placeholder='비밀번호 확인'\n                        autoComplete='off'\n                        type='password'\n                        {...register('check', {\n                            required: true,\n                            validate: check => check === watch('password'),\n                        })}\n                    />\n                </Row>\n                {!errors.password && errors.check ? <ErrorMsg> 비밀번호가 일치하지 않습니다 </ErrorMsg> : <Msg>ㅤ</Msg>}\n            </Column>\n            <Column>\n                <Row>\n                    <Icon icon={faUserSecret}\n                        color={errors.secretMessage ? (theme.colors.red) : (theme.colors.white)}\n                    />\n                    <Input placeholder='암호 메세지'\n                        {...register('secretMessage', {\n                            required: '암호 메세지를 작성해주세요',\n                            minLength: { value: 3, message: '암호 메세지는 최소 3자 입니다' },\n                            maxLength: { value: 20, message: '암호 메시지는 최대 20자 입니다' }\n                        })}\n                    />\n                </Row>\n                {errors.secretMessage ? \n                    <>\n                        <ErrorMsg> {errors.secretMessage.message} </ErrorMsg>\n                        <Msg>ㅤ</Msg>\n                    </> :\n                    <>\n                        <Msg> 암호 메세지는 나중에 비밀번호 찾기에 사용됩니다 </Msg>\n                        <Msg> 자신만의 개성 넘치는 단어로 설정해보세요! </Msg>\n                    </>\n                }\n            </Column>\n                <Button type='submit'>\n                    확인\n                </Button>\n        </Box>\n        </form>\n    );\n};\n\nexport default SignUpBox;\n\nconst Box = styled.div`\n    display: flex;\n    flex-direction: column;\n    justify-content: flex-start;\n    align-items: center;\n    width: 600px;\n    height: 640px;\n    animation: ${zoomIn} .6s ease;\n`;\n\nconst Column = styled.div`\n    display: flex;\n    flex-direction: column;\n    justify-content: center;\n    align-items: center;\n    margin-bottom: 10px;\n`;\n\nconst Row = styled.div`\n    position: relative;\n    width: 420px;\n    display: flex;\n    flex-direction: row;\n    justify-content: center;\n    align-items: center;\n    margin-bottom: 30px;\n    padding-bottom: 10px;\n    border-bottom: 1px solid ${({ theme }) => theme.colors.white};\n    @media only screen and (max-width: 600px) {\n        width: 320px;\n        margin-bottom: 20px;\n    };\n`;\n\nconst Input = styled.input`\n    all: unset;\n    width: 350px;\n    height: 40px;\n    font-size: 21px;\n    padding-left: 20px;\n    color: ${({ theme }) => theme.colors.white};\n    @media only screen and (max-width: 600px) {\n        width: 260px;\n        font-size: 17px;\n    };\n`;\n\nconst Button = styled.button`\n    all: unset;\n    width: 200px;\n    height: 55px;\n    border-radius: 40px;\n    background-color: ${({ theme }) => theme.colors.mainBlue};\n    color: ${({ theme }) => theme.colors.white};\n    font-size: 20px;\n    text-align: center;\n    margin-top: 20px;\n    margin-bottom: 50px;\n    cursor: pointer;\n    transition: .3s ease;\n    &:hover {\n        background-color: ${({ theme }) => theme.colors.white};\n        color: ${({ theme }) => theme.colors.mainBlue};\n    };\n    @media only screen and (max-width: 600px) {\n        width: 170px;\n        height: 45px;\n        font-size: 17px;\n    };\n`;\n\nconst DupliBtn = styled(Button)`\n    position: absolute;\n    right: 0px;\n    top: 0px;\n    width: 90px;\n    height: 40px;\n    font-size: 19px;\n    margin-bottom: 10px;\n    margin-top: 0;\n    @media only screen and (max-width: 600px) {\n        width: 90px;\n        height: 30px;\n        font-size: 15px;\n    };\n`;\n\nconst Icon = styled(FontAwesomeIcon)<{ color: string }>`\n    font-size: 35px;\n    color: ${({ color }) => color};\n    @media only screen and (max-width: 600px) {\n        font-size: 25px;\n    };\n`;\n\nconst ErrorMsg = styled.div`\n    font-size: 16px;\n    transform: translateY(-10px);\n    color: ${({ theme }) => theme.colors.red};\n`;\n\nconst Msg = styled(ErrorMsg)`\n    color: ${({ theme }) => theme.colors.white};\n`;"]},"metadata":{},"sourceType":"module"}