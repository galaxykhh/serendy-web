{"ast":null,"code":"var _jsxFileName = \"/Users/hyeonghan/VSCode/React/Serendy/client/src/pages/ChatPage.tsx\",\n    _s = $RefreshSig$();\n\nimport React, { useState, useEffect } from 'react';\nimport styled from 'styled-components';\nimport CenterView from '../components/SharedComponents/CenterView';\nimport Container from '../components/SharedComponents/Container';\nimport MatchHandler from '../components/ChatPage/MatchHandler';\nimport ChatWindow from '../components/ChatPage/ChatWindow';\nimport chatStore from '../store/chatStore';\nimport { observer } from 'mobx-react';\nimport userStore from '../store/userStore';\nimport { io } from 'socket.io-client';\nimport { BASE_URL } from '../config';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst ChatPage = observer(_c = _s(() => {\n  _s();\n\n  const [isSearching, setIsSearching] = useState(false);\n  const [isMatched, setIsMatched] = useState(false);\n  const [isFinished, setIsFinished] = useState(false);\n  useEffect(() => {\n    if (userStore.user) {\n      userStore.setUserSocket(io(BASE_URL));\n      userStore.saveSocketID();\n    }\n\n    ;\n    return () => {\n      var _userStore$userSocket;\n\n      (_userStore$userSocket = userStore.userSocket) === null || _userStore$userSocket === void 0 ? void 0 : _userStore$userSocket.disconnect();\n      userStore.setSocketID(null);\n    };\n  }, [userStore.user]); //eslint-disable-line\n\n  useEffect(() => {\n    chatStore.handleMatched();\n    chatStore.handleReceiveMsg();\n    chatStore.chatStopped();\n  }, []); // eslint-disable-line\n\n  useEffect(() => {\n    return () => {\n      chatStore.stopChat();\n      chatStore.reset();\n    };\n  }, []); // eslint-disable-line\n\n  return /*#__PURE__*/_jsxDEV(Container, {\n    children: /*#__PURE__*/_jsxDEV(CenterView, {\n      children: /*#__PURE__*/_jsxDEV(ChatBox, {\n        children: [/*#__PURE__*/_jsxDEV(ChatWindow, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 46,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(HandlerBox, {\n          children: /*#__PURE__*/_jsxDEV(MatchHandler, {\n            isSearching: isSearching,\n            isMatched: isMatched,\n            isFinished: isFinished\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 48,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 47,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 45,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 44,\n      columnNumber: 13\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 43,\n    columnNumber: 9\n  }, this);\n}, \"AvWe3+He9PMgLGPxiPqe6zV3g54=\"));\n_c2 = ChatPage;\nexport default ChatPage;\nconst ChatBox = styled.div`\n    display: flex;\n    flex-direction: row;\n    justify-content: center;\n    align-items: center;\n    width: 100%;\n    height: 100%;\n    @media only screen and (max-width: 1450px) {\n        flex-direction: column;\n    };\n    @media only screen and (max-width: 600px) {\n        flex-direction: column-reverse;\n    };\n`;\n_c3 = ChatBox;\nconst HandlerBox = styled.div`\n    position: relative;\n    display: flex;\n    flex-direction: column;\n    justify-content: center;\n    align-items: center;\n    width: 100%;\n    min-width: 300px;\n    height: 740px;\n    border-radius: 10px;\n    background-color: ${({\n  theme\n}) => theme.colors.main60};\n    @media only screen and (max-width: 1450px) {\n        height: 70%;\n    };\n`;\n_c4 = HandlerBox;\n\nvar _c, _c2, _c3, _c4;\n\n$RefreshReg$(_c, \"ChatPage$observer\");\n$RefreshReg$(_c2, \"ChatPage\");\n$RefreshReg$(_c3, \"ChatBox\");\n$RefreshReg$(_c4, \"HandlerBox\");","map":{"version":3,"sources":["/Users/hyeonghan/VSCode/React/Serendy/client/src/pages/ChatPage.tsx"],"names":["React","useState","useEffect","styled","CenterView","Container","MatchHandler","ChatWindow","chatStore","observer","userStore","io","BASE_URL","ChatPage","isSearching","setIsSearching","isMatched","setIsMatched","isFinished","setIsFinished","user","setUserSocket","saveSocketID","userSocket","disconnect","setSocketID","handleMatched","handleReceiveMsg","chatStopped","stopChat","reset","ChatBox","div","HandlerBox","theme","colors","main60"],"mappings":";;;AAAA,OAAOA,KAAP,IAAgBC,QAAhB,EAA0BC,SAA1B,QAA2C,OAA3C;AACA,OAAOC,MAAP,MAAmB,mBAAnB;AACA,OAAOC,UAAP,MAAuB,2CAAvB;AACA,OAAOC,SAAP,MAAsB,0CAAtB;AACA,OAAOC,YAAP,MAAyB,qCAAzB;AACA,OAAOC,UAAP,MAAuB,mCAAvB;AACA,OAAOC,SAAP,MAAsB,oBAAtB;AACA,SAASC,QAAT,QAAyB,YAAzB;AACA,OAAOC,SAAP,MAAsB,oBAAtB;AACA,SAASC,EAAT,QAAmB,kBAAnB;AACA,SAASC,QAAT,QAAyB,WAAzB;;AAEA,MAAMC,QAAkB,GAAGJ,QAAQ,SAAC,MAAM;AAAA;;AACtC,QAAM,CAACK,WAAD,EAAcC,cAAd,IAAgCd,QAAQ,CAAU,KAAV,CAA9C;AACA,QAAM,CAACe,SAAD,EAAYC,YAAZ,IAA4BhB,QAAQ,CAAU,KAAV,CAA1C;AACA,QAAM,CAACiB,UAAD,EAAaC,aAAb,IAA8BlB,QAAQ,CAAU,KAAV,CAA5C;AAEAC,EAAAA,SAAS,CAAC,MAAM;AACZ,QAAIQ,SAAS,CAACU,IAAd,EAAoB;AAChBV,MAAAA,SAAS,CAACW,aAAV,CAAwBV,EAAE,CAACC,QAAD,CAA1B;AACAF,MAAAA,SAAS,CAACY,YAAV;AACH;;AAAA;AACD,WAAO,MAAM;AAAA;;AACT,+BAAAZ,SAAS,CAACa,UAAV,gFAAsBC,UAAtB;AACAd,MAAAA,SAAS,CAACe,WAAV,CAAsB,IAAtB;AACH,KAHD;AAIH,GATQ,EASN,CAACf,SAAS,CAACU,IAAX,CATM,CAAT,CALsC,CAchB;;AAEtBlB,EAAAA,SAAS,CAAC,MAAM;AACZM,IAAAA,SAAS,CAACkB,aAAV;AACAlB,IAAAA,SAAS,CAACmB,gBAAV;AACAnB,IAAAA,SAAS,CAACoB,WAAV;AACH,GAJQ,EAIN,EAJM,CAAT,CAhBsC,CAoB9B;;AAER1B,EAAAA,SAAS,CAAC,MAAM;AACZ,WAAO,MAAM;AACTM,MAAAA,SAAS,CAACqB,QAAV;AACArB,MAAAA,SAAS,CAACsB,KAAV;AACH,KAHD;AAIH,GALQ,EAKN,EALM,CAAT,CAtBsC,CA2B9B;;AAER,sBACI,QAAC,SAAD;AAAA,2BACI,QAAC,UAAD;AAAA,6BACI,QAAC,OAAD;AAAA,gCACI,QAAC,UAAD;AAAA;AAAA;AAAA;AAAA,gBADJ,eAEI,QAAC,UAAD;AAAA,iCACI,QAAC,YAAD;AAAc,YAAA,WAAW,EAAEhB,WAA3B;AACI,YAAA,SAAS,EAAEE,SADf;AAEI,YAAA,UAAU,EAAEE;AAFhB;AAAA;AAAA;AAAA;AAAA;AADJ;AAAA;AAAA;AAAA;AAAA,gBAFJ;AAAA;AAAA;AAAA;AAAA;AAAA;AADJ;AAAA;AAAA;AAAA;AAAA;AADJ;AAAA;AAAA;AAAA;AAAA,UADJ;AAeH,CA5CkC,kCAAnC;MAAML,Q;AA8CN,eAAeA,QAAf;AAEA,MAAMkB,OAAO,GAAG5B,MAAM,CAAC6B,GAAI;AAC3B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAbA;MAAMD,O;AAeN,MAAME,UAAU,GAAG9B,MAAM,CAAC6B,GAAI;AAC9B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,wBAAwB,CAAC;AAAEE,EAAAA;AAAF,CAAD,KAAeA,KAAK,CAACC,MAAN,CAAaC,MAAO;AAC3D;AACA;AACA;AACA,CAdA;MAAMH,U","sourcesContent":["import React, { useState, useEffect } from 'react'\nimport styled from 'styled-components';\nimport CenterView from '../components/SharedComponents/CenterView'\nimport Container from '../components/SharedComponents/Container'\nimport MatchHandler from '../components/ChatPage/MatchHandler';\nimport ChatWindow from '../components/ChatPage/ChatWindow';\nimport chatStore from '../store/chatStore';\nimport { observer } from 'mobx-react';\nimport userStore from '../store/userStore';\nimport { io } from 'socket.io-client';\nimport { BASE_URL } from '../config';\n\nconst ChatPage: React.FC = observer(() => {\n    const [isSearching, setIsSearching] = useState<boolean>(false);\n    const [isMatched, setIsMatched] = useState<boolean>(false);\n    const [isFinished, setIsFinished] = useState<boolean>(false);\n\n    useEffect(() => {\n        if (userStore.user) {\n            userStore.setUserSocket(io(BASE_URL));\n            userStore.saveSocketID();\n        }; \n        return () => {\n            userStore.userSocket?.disconnect();\n            userStore.setSocketID(null);\n        };\n    }, [userStore.user]); //eslint-disable-line\n\n    useEffect(() => {\n        chatStore.handleMatched();\n        chatStore.handleReceiveMsg();\n        chatStore.chatStopped();\n    }, []); // eslint-disable-line\n\n    useEffect(() => {\n        return () => {\n            chatStore.stopChat();\n            chatStore.reset();\n        };\n    }, []); // eslint-disable-line\n\n    return (\n        <Container>\n            <CenterView>\n                <ChatBox>\n                    <ChatWindow />\n                    <HandlerBox>\n                        <MatchHandler isSearching={isSearching} \n                            isMatched={isMatched}\n                            isFinished={isFinished}\n                        />\n                    </HandlerBox>\n                </ChatBox>\n            </CenterView>\n        </Container>\n    );\n});\n\nexport default ChatPage;\n\nconst ChatBox = styled.div`\n    display: flex;\n    flex-direction: row;\n    justify-content: center;\n    align-items: center;\n    width: 100%;\n    height: 100%;\n    @media only screen and (max-width: 1450px) {\n        flex-direction: column;\n    };\n    @media only screen and (max-width: 600px) {\n        flex-direction: column-reverse;\n    };\n`;\n\nconst HandlerBox = styled.div`\n    position: relative;\n    display: flex;\n    flex-direction: column;\n    justify-content: center;\n    align-items: center;\n    width: 100%;\n    min-width: 300px;\n    height: 740px;\n    border-radius: 10px;\n    background-color: ${({ theme }) => theme.colors.main60};\n    @media only screen and (max-width: 1450px) {\n        height: 70%;\n    };\n`;\n"]},"metadata":{},"sourceType":"module"}