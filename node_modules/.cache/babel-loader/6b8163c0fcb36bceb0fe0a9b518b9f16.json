{"ast":null,"code":"var _s = $RefreshSig$();\n\nimport { useState, useRef } from 'react';\nimport { io } from 'socket.io-client';\nconst ENDPOINT = 'http://localhost:8000';\nexport const useChat = () => {\n  _s();\n\n  const [isSearching, setIsSearching] = useState(false);\n  const [isMatched, setIsMatched] = useState(false);\n  const [display, setDisplay] = useState('hidden');\n  const [socket, setSocket] = useState(null);\n  const sendBtn = useRef(null);\n  const inputBox = useRef(null);\n\n  const showChat = () => {\n    setDisplay('visible');\n  };\n\n  const handleBtn = () => {\n    setIsSearching(!isSearching);\n    setIsMatched(!isMatched); // 채팅개발하게되면 수정\n  };\n\n  const handleConnect = () => {\n    if (socket === null) setSocket(io(ENDPOINT));else {\n      socket.disconnect();\n      setSocket(null);\n    }\n  };\n\n  const handleSearch = () => {\n    if (display === 'hidden') {\n      showChat();\n      handleConnect();\n      handleBtn();\n    } else {\n      handleConnect();\n      handleBtn();\n    }\n  };\n\n  const handleMatch = () => {\n    setIsMatched(true);\n  };\n\n  return {\n    isSearching,\n    isMatched,\n    display,\n    sendBtn,\n    inputBox,\n    handleSearch,\n    handleMatch\n  };\n};\n\n_s(useChat, \"4mXSYQdhhBkQfABb49G58fxUubo=\");","map":{"version":3,"sources":["/Users/hyeonghan/VSCode/React/Serendy/client/src/Hooks/useChat.ts"],"names":["useState","useRef","io","ENDPOINT","useChat","isSearching","setIsSearching","isMatched","setIsMatched","display","setDisplay","socket","setSocket","sendBtn","inputBox","showChat","handleBtn","handleConnect","disconnect","handleSearch","handleMatch"],"mappings":";;AAAA,SAASA,QAAT,EAAmBC,MAAnB,QAAiC,OAAjC;AAEA,SAASC,EAAT,QAA2B,kBAA3B;AAEA,MAAMC,QAAQ,GAAG,uBAAjB;AAEA,OAAO,MAAMC,OAAO,GAAG,MAAM;AAAA;;AACzB,QAAM,CAACC,WAAD,EAAcC,cAAd,IAAgCN,QAAQ,CAAU,KAAV,CAA9C;AACA,QAAM,CAACO,SAAD,EAAYC,YAAZ,IAA4BR,QAAQ,CAAU,KAAV,CAA1C;AACA,QAAM,CAACS,OAAD,EAAUC,UAAV,IAAwBV,QAAQ,CAAiB,QAAjB,CAAtC;AACA,QAAM,CAACW,MAAD,EAASC,SAAT,IAAsBZ,QAAQ,CAAgB,IAAhB,CAApC;AACA,QAAMa,OAAO,GAAGZ,MAAM,CAAoB,IAApB,CAAtB;AACA,QAAMa,QAAQ,GAAGb,MAAM,CAAmB,IAAnB,CAAvB;;AAEA,QAAMc,QAAQ,GAAG,MAAY;AACzBL,IAAAA,UAAU,CAAC,SAAD,CAAV;AACH,GAFD;;AAIA,QAAMM,SAAS,GAAG,MAAY;AAC1BV,IAAAA,cAAc,CAAC,CAACD,WAAF,CAAd;AACAG,IAAAA,YAAY,CAAC,CAACD,SAAF,CAAZ,CAF0B,CAEA;AAC7B,GAHD;;AAKA,QAAMU,aAAa,GAAG,MAAY;AAC9B,QAAIN,MAAM,KAAK,IAAf,EACAC,SAAS,CAACV,EAAE,CAACC,QAAD,CAAH,CAAT,CADA,KAEK;AACDQ,MAAAA,MAAM,CAACO,UAAP;AACAN,MAAAA,SAAS,CAAC,IAAD,CAAT;AACH;AACJ,GAPD;;AASA,QAAMO,YAAY,GAAG,MAAY;AAC7B,QAAIV,OAAO,KAAK,QAAhB,EAA0B;AACtBM,MAAAA,QAAQ;AACRE,MAAAA,aAAa;AACbD,MAAAA,SAAS;AACZ,KAJD,MAIO;AACHC,MAAAA,aAAa;AACbD,MAAAA,SAAS;AACZ;AACJ,GATD;;AAWA,QAAMI,WAAW,GAAG,MAAY;AAC5BZ,IAAAA,YAAY,CAAC,IAAD,CAAZ;AACH,GAFD;;AAIA,SAAO;AACHH,IAAAA,WADG;AAEHE,IAAAA,SAFG;AAGHE,IAAAA,OAHG;AAIHI,IAAAA,OAJG;AAKHC,IAAAA,QALG;AAMHK,IAAAA,YANG;AAOHC,IAAAA;AAPG,GAAP;AASH,CAlDM;;GAAMhB,O","sourcesContent":["import { useState, useRef } from 'react'\nimport { VisibilityType } from '../type';\nimport { io, Socket } from 'socket.io-client';\n\nconst ENDPOINT = 'http://localhost:8000';\n\nexport const useChat = () => {\n    const [isSearching, setIsSearching] = useState<boolean>(false);\n    const [isMatched, setIsMatched] = useState<boolean>(false);\n    const [display, setDisplay] = useState<VisibilityType>('hidden');\n    const [socket, setSocket] = useState<Socket | null>(null);\n    const sendBtn = useRef<HTMLButtonElement>(null);\n    const inputBox = useRef<HTMLInputElement>(null);\n\n    const showChat = (): void => {\n        setDisplay('visible');\n    }\n\n    const handleBtn = (): void => {\n        setIsSearching(!isSearching);\n        setIsMatched(!isMatched); // 채팅개발하게되면 수정\n    };\n\n    const handleConnect = (): void => {\n        if (socket === null)\n        setSocket(io(ENDPOINT));\n        else {\n            socket.disconnect();\n            setSocket(null);\n        }\n    }\n\n    const handleSearch = (): void => {\n        if (display === 'hidden') {\n            showChat();\n            handleConnect();\n            handleBtn();\n        } else {\n            handleConnect();\n            handleBtn();\n        }\n    };\n\n    const handleMatch = (): void => {\n        setIsMatched(true);\n    }\n\n    return {\n        isSearching,\n        isMatched,\n        display,\n        sendBtn,\n        inputBox,\n        handleSearch,\n        handleMatch,\n    }\n}"]},"metadata":{},"sourceType":"module"}