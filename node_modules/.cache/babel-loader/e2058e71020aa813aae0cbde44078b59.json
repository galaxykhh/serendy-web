{"ast":null,"code":"import _taggedTemplateLiteral from\"/Users/hyeonghan/VSCode/React/Serendy/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/taggedTemplateLiteral\";import _regeneratorRuntime from\"/Users/hyeonghan/VSCode/React/Serendy/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _objectSpread from\"/Users/hyeonghan/VSCode/React/Serendy/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _asyncToGenerator from\"/Users/hyeonghan/VSCode/React/Serendy/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";var _templateObject,_templateObject2,_templateObject3,_templateObject4,_templateObject5,_templateObject6,_templateObject7,_templateObject8,_templateObject9;import{faPen}from'@fortawesome/free-solid-svg-icons';import React from'react';import{useForm}from'react-hook-form';import styled from'styled-components';import{FontAwesomeIcon}from'@fortawesome/react-fontawesome';import userStore from'../../store/userStore';import{flowResult}from'mobx';import{usePush}from'../../hook/usePush';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var ChangeNameBox=function ChangeNameBox(){var _useForm=useForm(),register=_useForm.register,handleSubmit=_useForm.handleSubmit,errors=_useForm.formState.errors;var _usePush=usePush('signin'),push=_usePush.push;var onSubmit=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(nickName){var _userStore$user;var userData,isSuccess;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:userData=_objectSpread({account:(_userStore$user=userStore.user)===null||_userStore$user===void 0?void 0:_userStore$user.account},nickName);_context.next=3;return flowResult(userStore.changeName(userData));case 3:isSuccess=_context.sent;if(isSuccess)push();case 5:case\"end\":return _context.stop();}}},_callee);}));return function onSubmit(_x){return _ref.apply(this,arguments);};}();return/*#__PURE__*/_jsx(\"form\",{onSubmit:handleSubmit(onSubmit),children:/*#__PURE__*/_jsx(Container,{children:/*#__PURE__*/_jsxs(Column,{children:[/*#__PURE__*/_jsx(Text,{children:\"\\uBCC0\\uACBD\\uD560 \\uB2C9\\uB124\\uC784\\uC744 \\uC785\\uB825\\uD574\\uC8FC\\uC138\\uC694\"}),/*#__PURE__*/_jsx(Text,{style:{color:'plum',fontSize:'16px'},children:\"(\\uB2C9\\uB124\\uC784\\uC740 \\uC911\\uBCF5\\uC774 \\uAC00\\uB2A5\\uD569\\uB2C8\\uB2E4)\"}),/*#__PURE__*/_jsxs(InputBox,{children:[/*#__PURE__*/_jsx(Icon,{icon:faPen}),/*#__PURE__*/_jsx(Input,_objectSpread({},register('nickName',{required:'변경할 닉네임을 입력해주세요',pattern:{value:/^[\\w\\Wㄱ-ㅎㅏ-ㅣ가-힣]{2,20}$/,message:'닉네임에 적합한 문자가 아닙니다'},minLength:{value:2,message:'닉네임이 너무 짧아요'},maxLength:{value:19,message:'닉네임이 너무 길어요'}})))]}),/*#__PURE__*/_jsx(TextBox,{children:errors.nickName&&/*#__PURE__*/_jsx(ErrorMsg,{children:errors.nickName.message})}),/*#__PURE__*/_jsx(Button,{onClick:handleSubmit(onSubmit),type:\"submit\",children:\"\\uBCC0\\uACBD\\uD558\\uAE30\"})]})})});};export default ChangeNameBox;var Container=styled.div(_templateObject||(_templateObject=_taggedTemplateLiteral([\"\\n    width: 100%;\\n    height: 300px;\\n\"])));var Column=styled.div(_templateObject2||(_templateObject2=_taggedTemplateLiteral([\"\\n    display: flex;\\n    flex-direction: column;\\n    justify-content: center;\\n    align-items: center;\\n\"])));var TextBox=styled.div(_templateObject3||(_templateObject3=_taggedTemplateLiteral([\"\\n    height: 30px;\\n\"])));var Text=styled.div(_templateObject4||(_templateObject4=_taggedTemplateLiteral([\"\\n    margin-top: 20px;\\n    font-size: 18px;\\n    color: \",\";\\n\"])),function(_ref2){var theme=_ref2.theme;return theme.colors.white;});var InputBox=styled.div(_templateObject5||(_templateObject5=_taggedTemplateLiteral([\"\\n    width: 350px;\\n    display: flex;\\n    flex-direction: row;\\n    justify-content: center;\\n    align-items: center;\\n    margin-bottom: 15px;\\n    padding-bottom: 10px;\\n    border-bottom: 1px solid \",\";\\n\"])),function(_ref3){var theme=_ref3.theme;return theme.colors.white;});var Input=styled.input.attrs({placeholder:'변경할 닉네임'})(_templateObject6||(_templateObject6=_taggedTemplateLiteral([\"\\n    all: unset;\\n    width: 300px;\\n    height: 40px;\\n    font-size: 21px;\\n    margin-top: 20px;\\n    padding-left: 15px;\\n    color: \",\";\\n\"])),function(_ref4){var theme=_ref4.theme;return theme.colors.white;});var Button=styled.button(_templateObject7||(_templateObject7=_taggedTemplateLiteral([\"\\n    all: unset;\\n    width: 200px;\\n    height: 65px;\\n    border-radius: 40px;\\n    background-color: \",\";\\n    color: \",\";\\n    font-size: 20px;\\n    margin-top: 5px;\\n    text-align: center;\\n    cursor: pointer;\\n    transition: .4s ease;\\n    &:hover {\\n        background-color: \",\";\\n        color: \",\";\\n    };\\n\"])),function(_ref5){var theme=_ref5.theme;return theme.colors.mainBlue;},function(_ref6){var theme=_ref6.theme;return theme.colors.white;},function(_ref7){var theme=_ref7.theme;return theme.colors.white;},function(_ref8){var theme=_ref8.theme;return theme.colors.mainBlue;});var Icon=styled(FontAwesomeIcon)(_templateObject8||(_templateObject8=_taggedTemplateLiteral([\"\\n    font-size: 25px;\\n    margin-top: 30px;\\n    transform: translateY(-5px);\\n    color: \",\";\\n\"])),function(_ref9){var theme=_ref9.theme;return theme.colors.white;});var ErrorMsg=styled.div(_templateObject9||(_templateObject9=_taggedTemplateLiteral([\"\\n    font-size: 16px;\\n    color: \",\";\\n\"])),function(_ref10){var theme=_ref10.theme;return theme.colors.red;});","map":{"version":3,"sources":["/Users/hyeonghan/VSCode/React/Serendy/client/src/components/MyPage/ChangeNameBox.tsx"],"names":["faPen","React","useForm","styled","FontAwesomeIcon","userStore","flowResult","usePush","ChangeNameBox","register","handleSubmit","errors","formState","push","onSubmit","nickName","userData","account","user","changeName","isSuccess","color","fontSize","required","pattern","value","message","minLength","maxLength","Container","div","Column","TextBox","Text","theme","colors","white","InputBox","Input","input","attrs","placeholder","Button","button","mainBlue","Icon","ErrorMsg","red"],"mappings":"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","sourcesContent":["import { faPen } from '@fortawesome/free-solid-svg-icons';\nimport React from 'react';\nimport { useForm, SubmitHandler } from 'react-hook-form';\nimport styled from 'styled-components';\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport userStore from '../../store/userStore';\nimport { INickName } from '../../interfaces/index';\nimport { flowResult } from 'mobx';\nimport { usePush } from '../../hook/usePush';\n\nconst ChangeNameBox: React.FC = () => {\n    const { register, handleSubmit, formState: { errors } } = useForm<INickName>();\n    const { push } = usePush('signin');\n\n    const onSubmit: SubmitHandler<INickName> = async (nickName) => {\n        const userData = {\n            account: userStore.user?.account,\n            ...nickName,\n        };\n        const isSuccess = await flowResult(userStore.changeName(userData));\n        if (isSuccess) push();\n    };\n\n    return (\n        <form onSubmit={handleSubmit(onSubmit)} >\n            <Container>\n                <Column>\n                    <Text>변경할 닉네임을 입력해주세요</Text>\n                    <Text style={{ color: 'plum', fontSize: '16px' }} >(닉네임은 중복이 가능합니다)</Text>\n                    <InputBox>\n                        <Icon icon={faPen} />\n                        <Input {...register('nickName', {\n                            required: '변경할 닉네임을 입력해주세요',\n                            pattern: { value: /^[\\w\\Wㄱ-ㅎㅏ-ㅣ가-힣]{2,20}$/, message: '닉네임에 적합한 문자가 아닙니다'},\n                            minLength: { value: 2, message: '닉네임이 너무 짧아요' },\n                            maxLength: { value: 19, message: '닉네임이 너무 길어요' },\n                        })} />\n                    </InputBox>\n                    <TextBox>\n                        {errors.nickName && <ErrorMsg>{errors.nickName.message}</ErrorMsg>}\n                    </TextBox>\n                    <Button\n                        onClick={handleSubmit(onSubmit)}\n                        type='submit'\n                    >\n                        변경하기</Button>\n                </Column>\n            </Container>\n        </form>\n    );\n};\n\nexport default ChangeNameBox;\n\nconst Container = styled.div`\n    width: 100%;\n    height: 300px;\n`;\n\nconst Column = styled.div`\n    display: flex;\n    flex-direction: column;\n    justify-content: center;\n    align-items: center;\n`;\n\nconst TextBox = styled.div`\n    height: 30px;\n`;\n\nconst Text = styled.div`\n    margin-top: 20px;\n    font-size: 18px;\n    color: ${({ theme }) => theme.colors.white};\n`;\n\nconst InputBox = styled.div`\n    width: 350px;\n    display: flex;\n    flex-direction: row;\n    justify-content: center;\n    align-items: center;\n    margin-bottom: 15px;\n    padding-bottom: 10px;\n    border-bottom: 1px solid ${({ theme }) => theme.colors.white};\n`;\n\nconst Input = styled.input.attrs({\n    placeholder: '변경할 닉네임'\n})`\n    all: unset;\n    width: 300px;\n    height: 40px;\n    font-size: 21px;\n    margin-top: 20px;\n    padding-left: 15px;\n    color: ${({ theme }) => theme.colors.white};\n`;\n\nconst Button = styled.button`\n    all: unset;\n    width: 200px;\n    height: 65px;\n    border-radius: 40px;\n    background-color: ${({ theme }) => theme.colors.mainBlue};\n    color: ${({ theme }) => theme.colors.white};\n    font-size: 20px;\n    margin-top: 5px;\n    text-align: center;\n    cursor: pointer;\n    transition: .4s ease;\n    &:hover {\n        background-color: ${({ theme }) => theme.colors.white};\n        color: ${({ theme }) => theme.colors.mainBlue};\n    };\n`;\n\nconst Icon = styled(FontAwesomeIcon)`\n    font-size: 25px;\n    margin-top: 30px;\n    transform: translateY(-5px);\n    color: ${({ theme }) => theme.colors.white};\n`;\n\nconst ErrorMsg = styled.div`\n    font-size: 16px;\n    color: ${({ theme }) => theme.colors.red};\n`;"]},"metadata":{},"sourceType":"module"}