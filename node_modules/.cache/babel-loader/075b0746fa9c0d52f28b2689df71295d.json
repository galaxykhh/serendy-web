{"ast":null,"code":"import _taggedTemplateLiteral from\"/Users/hyeonghan/VSCode/React/Serendy/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/taggedTemplateLiteral\";import _objectSpread from\"/Users/hyeonghan/VSCode/React/Serendy/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _regeneratorRuntime from\"/Users/hyeonghan/VSCode/React/Serendy/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/Users/hyeonghan/VSCode/React/Serendy/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"/Users/hyeonghan/VSCode/React/Serendy/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";var _templateObject,_templateObject2,_templateObject3,_templateObject4,_templateObject5,_templateObject6,_templateObject7,_templateObject8,_templateObject9;import React,{useEffect,useState}from'react';import styled from'styled-components';import{observer}from'mobx-react';import{FontAwesomeIcon}from'@fortawesome/react-fontawesome';import{faCheck,faLock,faUserAlt,faUserSecret}from'@fortawesome/free-solid-svg-icons';import{useForm}from'react-hook-form';import{theme}from'../../style/theme';import authRepository from'../../repository/authRepository';import{zoomIn}from'../../style/keyframes';import{flowResult}from'mobx';import userStore from'../../store/userStore';import{TextLogo}from'../SharedComponents/TextLogo';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var SignUpBox=observer(function(_ref){var submit=_ref.submit;var _useForm=useForm(),register=_useForm.register,handleSubmit=_useForm.handleSubmit,watch=_useForm.watch,setError=_useForm.setError,trigger=_useForm.trigger,errors=_useForm.formState.errors;var _useState=useState(false),_useState2=_slicedToArray(_useState,2),isChecked=_useState2[0],setIsChecked=_useState2[1];// 계정 중복체크\n// 회원가입\nvar signUp=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(data){var isSuccess;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.prev=0;_context.next=3;return flowResult(authRepository.signUp(data));case 3:isSuccess=_context.sent;if(isSuccess){submit();};_context.next=11;break;case 8:_context.prev=8;_context.t0=_context[\"catch\"](0);alert('서버 점검중입니다');case 11:;case 12:case\"end\":return _context.stop();}}},_callee,null,[[0,8]]);}));return function signUp(_x){return _ref2.apply(this,arguments);};}();// 중복체크\nvar accountCheck=/*#__PURE__*/function(){var _ref3=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(){var account,isAvailable;return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:_context2.next=2;return trigger('account');case 2:if(!errors.account){_context2.next=6;break;}return _context2.abrupt(\"return\");case 6:account=watch('account');_context2.next=9;return flowResult(userStore.checkAccount(account));case 9:isAvailable=_context2.sent;if(!isAvailable){_context2.next=14;break;}return _context2.abrupt(\"return\",setIsChecked(true));case 14:setError('account',{message:'이미 사용중인 아이디입니다'});setIsChecked(false);case 16:;case 17:;case 18:case\"end\":return _context2.stop();}}},_callee2);}));return function accountCheck(){return _ref3.apply(this,arguments);};}();var onSubmit=function onSubmit(data){if(!isChecked){alert('중복확인을 해주세요');return;};signUp(data);};useEffect(function(){setIsChecked(false);},[watch('account')]);// eslint-disable-line\nreturn/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit(onSubmit),children:[/*#__PURE__*/_jsx(TextLogo,{}),/*#__PURE__*/_jsxs(Box,{children:[/*#__PURE__*/_jsxs(Column,{children:[/*#__PURE__*/_jsxs(Row,{children:[/*#__PURE__*/_jsx(Icon,{icon:faUserAlt,color:errors.account?theme.colors.red:theme.colors.white}),/*#__PURE__*/_jsx(Input,_objectSpread({placeholder:\"\\uC544\\uC774\\uB514\"},register('account',{required:'아이디를 입력해주세요',pattern:{value:/^[a-zA-Z0-9]+$/,message:'영문과 숫자만을 조합하여 입력해주세요'},minLength:{value:6,message:'아이디는 최소 6자리입니다'},maxLength:{value:15,message:'아이디는 최대 15자리입니다'}}))),/*#__PURE__*/_jsx(CheckAccountButton,{onClick:accountCheck,type:\"button\",children:\"\\uC911\\uBCF5\\uD655\\uC778\"})]}),!isChecked?!errors.account?/*#__PURE__*/_jsx(Msg,{children:\"\\u3164\"}):/*#__PURE__*/_jsxs(ErrorMsg,{children:[\" \",errors.account.message,\" \"]}):/*#__PURE__*/_jsx(Msg,{style:{color:theme.colors.green},children:\" \\uC0AC\\uC6A9\\uAC00\\uB2A5\\uD55C \\uC544\\uC774\\uB514\\uC785\\uB2C8\\uB2E4 \"})]}),/*#__PURE__*/_jsxs(Column,{children:[/*#__PURE__*/_jsxs(Row,{children:[/*#__PURE__*/_jsx(Icon,{icon:faLock,color:errors.password?theme.colors.red:theme.colors.white}),/*#__PURE__*/_jsx(Input,_objectSpread({placeholder:\"\\uBE44\\uBC00\\uBC88\\uD638\",autoComplete:\"off\",type:\"password\"},register('password',{required:'비밀번호를 입력해주세요',minLength:{value:8,message:'비밀번호는 최소 8자리입니다'},maxLength:{value:20,message:'비밀번호는 최대 20자리입니다'}})))]}),errors.password?/*#__PURE__*/_jsxs(ErrorMsg,{children:[\" \",errors.password.message,\" \"]}):/*#__PURE__*/_jsx(Msg,{children:\"\\u3164\"})]}),/*#__PURE__*/_jsxs(Column,{children:[/*#__PURE__*/_jsxs(Row,{children:[/*#__PURE__*/_jsx(Icon,{icon:faCheck,color:errors.check?theme.colors.red:theme.colors.white}),/*#__PURE__*/_jsx(Input,_objectSpread({placeholder:\"\\uBE44\\uBC00\\uBC88\\uD638 \\uD655\\uC778\",autoComplete:\"off\",type:\"password\"},register('check',{required:true,validate:function validate(check){return check===watch('password');}})))]}),!errors.password&&errors.check?/*#__PURE__*/_jsx(ErrorMsg,{children:\" \\uBE44\\uBC00\\uBC88\\uD638\\uAC00 \\uC77C\\uCE58\\uD558\\uC9C0 \\uC54A\\uC2B5\\uB2C8\\uB2E4 \"}):/*#__PURE__*/_jsx(Msg,{children:\"\\u3164\"})]}),/*#__PURE__*/_jsxs(Column,{children:[/*#__PURE__*/_jsxs(Row,{children:[/*#__PURE__*/_jsx(Icon,{icon:faUserSecret,color:errors.secretMessage?theme.colors.red:theme.colors.white}),/*#__PURE__*/_jsx(Input,_objectSpread({placeholder:\"\\uC554\\uD638 \\uBA54\\uC138\\uC9C0\"},register('secretMessage',{required:'암호 메세지를 작성해주세요',minLength:{value:3,message:'암호 메세지는 최소 3자 입니다'},maxLength:{value:20,message:'암호 메시지는 최대 20자 입니다'}})))]}),errors.secretMessage?/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsxs(ErrorMsg,{children:[\" \",errors.secretMessage.message,\" \"]}),/*#__PURE__*/_jsx(Msg,{children:\"\\u3164\"})]}):/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(Msg,{children:\" \\uC554\\uD638 \\uBA54\\uC138\\uC9C0\\uB294 \\uB098\\uC911\\uC5D0 \\uBE44\\uBC00\\uBC88\\uD638 \\uCC3E\\uAE30\\uC5D0 \\uC0AC\\uC6A9\\uB429\\uB2C8\\uB2E4 \"}),/*#__PURE__*/_jsx(Msg,{children:\" \\uC790\\uC2E0\\uB9CC\\uC758 \\uAC1C\\uC131 \\uB118\\uCE58\\uB294 \\uB2E8\\uC5B4\\uB85C \\uC124\\uC815\\uD574\\uBCF4\\uC138\\uC694! \"})]})]}),/*#__PURE__*/_jsx(SubmitButton,{type:\"submit\",children:\"\\uD655\\uC778\"})]})]});});export default SignUpBox;var Box=styled.div(_templateObject||(_templateObject=_taggedTemplateLiteral([\"\\n    display: flex;\\n    flex-direction: column;\\n    justify-content: flex-start;\\n    align-items: center;\\n    width: 600px;\\n    height: 600px;\\n    animation: \",\" .6s ease;\\n    @media only screen and (max-width: 600px) {\\n        justify-content: center;\\n        height: 550px;\\n    };\\n\"])),zoomIn);var Column=styled.div(_templateObject2||(_templateObject2=_taggedTemplateLiteral([\"\\n    display: flex;\\n    flex-direction: column;\\n    justify-content: center;\\n    align-items: center;\\n    margin-bottom: 10px;\\n\"])));var Row=styled.div(_templateObject3||(_templateObject3=_taggedTemplateLiteral([\"\\n    position: relative;\\n    width: 420px;\\n    display: flex;\\n    flex-direction: row;\\n    justify-content: center;\\n    align-items: center;\\n    margin-bottom: 30px;\\n    padding-bottom: 10px;\\n    border-bottom: 1px solid \",\";\\n    @media only screen and (max-width: 600px) {\\n        width: 320px;\\n        margin-bottom: 20px;\\n    };\\n\"])),function(_ref4){var theme=_ref4.theme;return theme.colors.white;});var Input=styled.input(_templateObject4||(_templateObject4=_taggedTemplateLiteral([\"\\n    all: unset;\\n    width: 350px;\\n    height: 40px;\\n    font-size: 21px;\\n    padding-left: 20px;\\n    color: \",\";\\n    @media only screen and (max-width: 600px) {\\n        width: 260px;\\n        font-size: 17px;\\n    };\\n\"])),function(_ref5){var theme=_ref5.theme;return theme.colors.white;});var SubmitButton=styled.button(_templateObject5||(_templateObject5=_taggedTemplateLiteral([\"\\n    all: unset;\\n    width: 200px;\\n    height: 55px;\\n    border-radius: 40px;\\n    background-color: \",\";\\n    color: \",\";\\n    font-size: 20px;\\n    text-align: center;\\n    margin-top: 20px;\\n    margin-bottom: 50px;\\n    cursor: pointer;\\n    transition: .3s ease;\\n    &:hover {\\n        background-color: \",\";\\n        color: \",\";\\n    };\\n    @media only screen and (max-width: 600px) {\\n        width: 170px;\\n        height: 45px;\\n        font-size: 17px;\\n    };\\n\"])),function(_ref6){var theme=_ref6.theme;return theme.colors.mainBlue;},function(_ref7){var theme=_ref7.theme;return theme.colors.white;},function(_ref8){var theme=_ref8.theme;return theme.colors.white;},function(_ref9){var theme=_ref9.theme;return theme.colors.mainBlue;});var CheckAccountButton=styled(SubmitButton)(_templateObject6||(_templateObject6=_taggedTemplateLiteral([\"\\n    position: absolute;\\n    right: 0px;\\n    top: 5px;\\n    width: 90px;\\n    height: 40px;\\n    font-size: 19px;\\n    margin-bottom: 10px;\\n    margin-top: 0;\\n    @media only screen and (max-width: 600px) {\\n        width: 90px;\\n        height: 30px;\\n        font-size: 15px;\\n    };\\n\"])));var Icon=styled(FontAwesomeIcon)(_templateObject7||(_templateObject7=_taggedTemplateLiteral([\"\\n    font-size: 35px;\\n    color: \",\";\\n    @media only screen and (max-width: 600px) {\\n        font-size: 25px;\\n    };\\n\"])),function(_ref10){var color=_ref10.color;return color;});var ErrorMsg=styled.div(_templateObject8||(_templateObject8=_taggedTemplateLiteral([\"\\n    font-size: 16px;\\n    transform: translateY(-10px);\\n    color: \",\";\\n\"])),function(_ref11){var theme=_ref11.theme;return theme.colors.red;});var Msg=styled(ErrorMsg)(_templateObject9||(_templateObject9=_taggedTemplateLiteral([\"\\n    color: \",\";\\n\"])),function(_ref12){var theme=_ref12.theme;return theme.colors.white;});","map":{"version":3,"sources":["/Users/hyeonghan/VSCode/React/Serendy/client/src/components/SignUp/SignUpBox.tsx"],"names":["React","useEffect","useState","styled","observer","FontAwesomeIcon","faCheck","faLock","faUserAlt","faUserSecret","useForm","theme","authRepository","zoomIn","flowResult","userStore","TextLogo","SignUpBox","submit","register","handleSubmit","watch","setError","trigger","errors","formState","isChecked","setIsChecked","signUp","data","isSuccess","alert","accountCheck","account","checkAccount","isAvailable","message","onSubmit","colors","red","white","required","pattern","value","minLength","maxLength","color","green","password","check","validate","secretMessage","Box","div","Column","Row","Input","input","SubmitButton","button","mainBlue","CheckAccountButton","Icon","ErrorMsg","Msg"],"mappings":"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","sourcesContent":["import React, { useEffect, useState } from 'react';\nimport styled from 'styled-components';\nimport { observer } from 'mobx-react';\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport { faCheck, faLock, faUserAlt, faUserSecret } from '@fortawesome/free-solid-svg-icons';\nimport { useForm, SubmitHandler } from 'react-hook-form';\nimport { theme } from '../../style/theme';\nimport authRepository from '../../repository/authRepository';\nimport { zoomIn } from '../../style/keyframes';\nimport { ISignUpData } from '../../interfaces';\nimport { flowResult } from 'mobx';\nimport userStore from '../../store/userStore';\nimport { TextLogo } from '../SharedComponents/TextLogo';\n\nconst SignUpBox: React.FC<{ submit: () => void }> = observer(({ submit }) => {\n    const { register, handleSubmit, watch, setError, trigger, formState: { errors } } = useForm<ISignUpData>();\n    const [ isChecked, setIsChecked ] = useState<boolean>(false); // 계정 중복체크\n\n    // 회원가입\n    const signUp = async (data: ISignUpData) => {\n        try{\n            const isSuccess = await flowResult(authRepository.signUp(data));\n            if (isSuccess) {\n                submit();\n            };\n        } catch(err) {\n            alert('서버 점검중입니다');\n        };\n    };\n\n    // 중복체크\n    const accountCheck = async () => {\n        await trigger('account'); // 트리거 호출해서 에러 확인\n        if (errors.account) { // 아이디 형식에 문제가 있으면 리턴\n            return\n        } else {\n            const account = watch('account');\n            const isAvailable = await flowResult(userStore.checkAccount(account))\n            if (isAvailable) {\n                return setIsChecked(true);\n            } else {\n                setError('account', {\n                    message: '이미 사용중인 아이디입니다'\n                });\n                setIsChecked(false);\n            };\n        };\n    };\n\n    const onSubmit: SubmitHandler<ISignUpData> = (data) => {\n        if (!isChecked) {\n            alert('중복확인을 해주세요');\n            return;\n        };\n        signUp(data);\n    };\n\n    useEffect(() => {\n        setIsChecked(false);\n    }, [watch('account')]); // eslint-disable-line\n\n    return (\n        <form onSubmit={handleSubmit(onSubmit)} >\n            <TextLogo />    \n            <Box>\n                <Column>\n                    <Row>\n                        <Icon\n                            icon={faUserAlt}\n                            color={errors.account ? (theme.colors.red) : (theme.colors.white)}\n                        />\n                        <Input\n                            placeholder='아이디'\n                            {...register('account', {\n                                required: '아이디를 입력해주세요',\n                                pattern: { value: /^[a-zA-Z0-9]+$/, message: '영문과 숫자만을 조합하여 입력해주세요'},\n                                minLength: { value: 6, message: '아이디는 최소 6자리입니다' },\n                                maxLength: { value: 15, message: '아이디는 최대 15자리입니다' },\n                            })}\n                        />\n                        <CheckAccountButton\n                            onClick={accountCheck}\n                            type='button'\n                        >\n                            중복확인\n                        </CheckAccountButton>\n                    </Row>\n                    {!isChecked ? (!errors.account ? <Msg>ㅤ</Msg> : <ErrorMsg> {errors.account.message} </ErrorMsg>) : <Msg style={{ color: theme.colors.green }}> 사용가능한 아이디입니다 </Msg> }\n                </Column>\n                <Column>\n                    <Row>\n                        <Icon\n                            icon={faLock}\n                            color={errors.password ? (theme.colors.red) : (theme.colors.white)}\n                        />\n                        \n                        <Input\n                            placeholder='비밀번호'\n                            autoComplete='off'\n                            type='password'\n                            {...register('password', {\n                                required: '비밀번호를 입력해주세요',\n                                minLength: { value: 8, message: '비밀번호는 최소 8자리입니다' },\n                                maxLength: { value: 20, message: '비밀번호는 최대 20자리입니다' }\n                            })}\n                        />\n                    </Row>\n                    {errors.password ? <ErrorMsg> {errors.password.message} </ErrorMsg> : <Msg>ㅤ</Msg>}\n                </Column>\n                <Column>\n                    <Row>\n                        <Icon\n                            icon={faCheck}\n                            color={errors.check ? (theme.colors.red) : (theme.colors.white)}\n                        />\n                        <Input\n                            placeholder='비밀번호 확인'\n                            autoComplete='off'\n                            type='password'\n                            {...register('check', {\n                                required: true,\n                                validate: check => check === watch('password'),\n                            })}\n                        />\n                    </Row>\n                    {!errors.password && errors.check ? <ErrorMsg> 비밀번호가 일치하지 않습니다 </ErrorMsg> : <Msg>ㅤ</Msg>}\n                </Column>\n                <Column>\n                    <Row>\n                        <Icon\n                            icon={faUserSecret}\n                            color={errors.secretMessage ? (theme.colors.red) : (theme.colors.white)}\n                        />\n                        <Input\n                            placeholder='암호 메세지'\n                            {...register('secretMessage', {\n                                required: '암호 메세지를 작성해주세요',\n                                minLength: { value: 3, message: '암호 메세지는 최소 3자 입니다' },\n                                maxLength: { value: 20, message: '암호 메시지는 최대 20자 입니다' }\n                            })}\n                        />\n                    </Row>\n                    {errors.secretMessage ? \n                        <>\n                            <ErrorMsg> {errors.secretMessage.message} </ErrorMsg>\n                            <Msg>ㅤ</Msg>\n                        </> :\n                        <>\n                            <Msg> 암호 메세지는 나중에 비밀번호 찾기에 사용됩니다 </Msg>\n                            <Msg> 자신만의 개성 넘치는 단어로 설정해보세요! </Msg>\n                        </>\n                    }\n                </Column>\n                    <SubmitButton type='submit'>\n                        확인\n                    </SubmitButton>\n            </Box>\n        </form>\n    );\n});\n\nexport default SignUpBox;\n\nconst Box = styled.div`\n    display: flex;\n    flex-direction: column;\n    justify-content: flex-start;\n    align-items: center;\n    width: 600px;\n    height: 600px;\n    animation: ${zoomIn} .6s ease;\n    @media only screen and (max-width: 600px) {\n        justify-content: center;\n        height: 550px;\n    };\n`;\n\nconst Column = styled.div`\n    display: flex;\n    flex-direction: column;\n    justify-content: center;\n    align-items: center;\n    margin-bottom: 10px;\n`;\n\nconst Row = styled.div`\n    position: relative;\n    width: 420px;\n    display: flex;\n    flex-direction: row;\n    justify-content: center;\n    align-items: center;\n    margin-bottom: 30px;\n    padding-bottom: 10px;\n    border-bottom: 1px solid ${({ theme }) => theme.colors.white};\n    @media only screen and (max-width: 600px) {\n        width: 320px;\n        margin-bottom: 20px;\n    };\n`;\n\nconst Input = styled.input`\n    all: unset;\n    width: 350px;\n    height: 40px;\n    font-size: 21px;\n    padding-left: 20px;\n    color: ${({ theme }) => theme.colors.white};\n    @media only screen and (max-width: 600px) {\n        width: 260px;\n        font-size: 17px;\n    };\n`;\n\nconst SubmitButton = styled.button`\n    all: unset;\n    width: 200px;\n    height: 55px;\n    border-radius: 40px;\n    background-color: ${({ theme }) => theme.colors.mainBlue};\n    color: ${({ theme }) => theme.colors.white};\n    font-size: 20px;\n    text-align: center;\n    margin-top: 20px;\n    margin-bottom: 50px;\n    cursor: pointer;\n    transition: .3s ease;\n    &:hover {\n        background-color: ${({ theme }) => theme.colors.white};\n        color: ${({ theme }) => theme.colors.mainBlue};\n    };\n    @media only screen and (max-width: 600px) {\n        width: 170px;\n        height: 45px;\n        font-size: 17px;\n    };\n`;\n\nconst CheckAccountButton = styled(SubmitButton)`\n    position: absolute;\n    right: 0px;\n    top: 5px;\n    width: 90px;\n    height: 40px;\n    font-size: 19px;\n    margin-bottom: 10px;\n    margin-top: 0;\n    @media only screen and (max-width: 600px) {\n        width: 90px;\n        height: 30px;\n        font-size: 15px;\n    };\n`;\n\nconst Icon = styled(FontAwesomeIcon)<{ color: string }>`\n    font-size: 35px;\n    color: ${({ color }) => color};\n    @media only screen and (max-width: 600px) {\n        font-size: 25px;\n    };\n`;\n\nconst ErrorMsg = styled.div`\n    font-size: 16px;\n    transform: translateY(-10px);\n    color: ${({ theme }) => theme.colors.red};\n`;\n\nconst Msg = styled(ErrorMsg)`\n    color: ${({ theme }) => theme.colors.white};\n`;"]},"metadata":{},"sourceType":"module"}