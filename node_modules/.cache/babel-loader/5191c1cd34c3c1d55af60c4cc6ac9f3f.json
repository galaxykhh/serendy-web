{"ast":null,"code":"var _jsxFileName = \"/Users/hyeonghan/VSCode/React/Serendy/client/src/components/ChatPage/ChatWindow.tsx\",\n    _s = $RefreshSig$();\n\nimport React, { useState, useEffect } from 'react';\nimport styled from 'styled-components';\nimport { fadeIn, zoomIn, zoomOut } from '../../style/keyframes';\nimport Loader from 'react-loader-spinner';\nimport { theme } from '../../style/theme';\nimport { useChat } from '../../Hooks/useChat';\nimport { observer } from 'mobx-react';\nimport userStore from '../../store/userStore';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst ChatWindow = observer(_c = _s(() => {\n  _s();\n\n  const [messageHistory, setMessageHistory] = useState([]); // 메세지 내역을 담아두는 배열\n\n  const chat = useChat();\n  useEffect(() => {\n    var _userStore$userSocket;\n\n    (_userStore$userSocket = userStore.userSocket) === null || _userStore$userSocket === void 0 ? void 0 : _userStore$userSocket.on('upload', data => {\n      setMessageHistory([...messageHistory, data]);\n      console.log(data);\n      console.log(messageHistory);\n    });\n  }, []); // useEffect(() => {\n  //     chat.recentMessage &&  chat.setMessageHistory([...chat.messageHistory, chat.recentMessage]);\n  // }, []);\n\n  return /*#__PURE__*/_jsxDEV(Row, {\n    children: [/*#__PURE__*/_jsxDEV(ChatBox, {\n      animation: chat.isMatched ? zoomIn : zoomOut,\n      visibility: chat.display,\n      children: [/*#__PURE__*/_jsxDEV(Screen, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 33,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(SenderBox, {\n        children: [/*#__PURE__*/_jsxDEV(Input, {\n          value: chat.inputMessage,\n          onChange: chat.handleInput,\n          onKeyPress: chat.handleEnter\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 39,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(SendBtn, {\n          ref: chat.sendBtn,\n          onClick: chat.handleSendMsg,\n          children: \"\\uC804\\uC1A1\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 43,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 38,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 30,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(HandlerContainer, {\n      children: chat.isSearching ? /*#__PURE__*/_jsxDEV(_Fragment, {\n        children: [/*#__PURE__*/_jsxDEV(BigMent, {\n          style: {\n            marginBottom: '30px'\n          },\n          children: \" \\uC0C1\\uB300\\uB97C \\uCC3E\\uACE0 \\uC788\\uC2B5\\uB2C8\\uB2E4 \"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 54,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(Loader, {\n          type: \"Circles\",\n          color: theme.colors.plum,\n          height: 60,\n          width: 60\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 55,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(BtnBox, {\n          children: /*#__PURE__*/_jsxDEV(CancelBtn, {\n            onClick: chat.handleSearch,\n            children: \" \\uCDE8\\uC18C\\uD558\\uAE30 \"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 57,\n            columnNumber: 29\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 56,\n          columnNumber: 25\n        }, this)]\n      }, void 0, true) : /*#__PURE__*/_jsxDEV(_Fragment, {\n        children: [/*#__PURE__*/_jsxDEV(BigMent, {\n          children: \" \\uC0C1\\uB300\\uB97C \\uCC3E\\uACE0 \\uB300\\uD654\\uB97C \\uC2DC\\uC791\\uD558\\uC138\\uC694 ! \"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 61,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 62,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(Rule, {\n          children: [/*#__PURE__*/_jsxDEV(Ment, {\n            size: \"18px\",\n            children: \" \\xB7 \\uCC44\\uD305\\uC740 \\uC11C\\uB85C\\uAC00 \\uC124\\uC815\\uD55C \\uC774\\uB984\\uC73C\\uB85C \\uC9C4\\uD589\\uB3FC\\uC694 \"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 65,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(Ment, {\n            size: \"18px\",\n            children: \" \\xB7 \\uC0C1\\uB300\\uC640 \\uB300\\uD654\\uAC00 \\uD1B5\\uD558\\uBA74 \\uCABD\\uC9C0 \\uC694\\uCCAD\\uC744 \\uBCF4\\uB0BC \\uC218 \\uC788\\uC5B4\\uC694 \"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 66,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(Ment, {\n            size: \"18px\",\n            children: \" \\xB7 \\uC694\\uCCAD\\uC774 \\uC218\\uB77D\\uB418\\uBA74 \\uCC44\\uD305\\uC774 \\uB05D\\uB098\\uB3C4 \\uCABD\\uC9C0\\uB97C \\uBCF4\\uB0BC \\uC218 \\uC788\\uC5B4\\uC694 \"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 67,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(Ment, {\n            size: \"18px\",\n            children: \" \\xB7 \\uB204\\uAD70\\uAC00 \\uCC44\\uD305\\uBC29\\uC744 \\uB098\\uAC00\\uAC8C\\uB418\\uBA74 \\uCC44\\uD305\\uC740 \\uC885\\uB8CC\\uB3FC\\uC694 \"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 68,\n            columnNumber: 29\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 64,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 70,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(BtnBox, {\n          children: /*#__PURE__*/_jsxDEV(StartBtn, {\n            onClick: chat.handleSearch,\n            children: \" \\uC0C1\\uB300 \\uCC3E\\uAE30 \"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 72,\n            columnNumber: 29\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 71,\n          columnNumber: 25\n        }, this)]\n      }, void 0, true)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 51,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 29,\n    columnNumber: 9\n  }, this);\n}, \"v2rEnTh8XJntfwQAuiK5Y4ZGGSs=\", false, function () {\n  return [useChat];\n}));\n_c2 = ChatWindow;\nexport default ChatWindow;\nconst Row = styled.div`\n    display: flex;\n    flex-direction: row;\n    justify-content: center;\n    align-items: center;\n    width: 100%;\n    height: 100%;\n    @media only screen and (max-width: 1450px) {\n        flex-direction: column;\n    }\n`;\n_c3 = Row;\nconst ChatBox = styled.div`\n    display: flex;\n    flex-direction: column;\n    justify-content: center;\n    align-items: center;\n    margin-right: 20px;\n    width: 100%;\n    height: 740px;\n    visibility: ${({\n  visibility\n}) => visibility};\n    animation: ${({\n  animation\n}) => animation} .7s ease forwards;\n    @media only screen and (max-width: 1450px) {\n        margin-right: 0px;\n        height: 90%;\n    }\n`;\n_c4 = ChatBox;\nconst Screen = styled.ul`\n    width: 740px;\n    height: 680px;\n    min-width: 500px;\n    background-color: ${({\n  theme\n}) => theme.colors.white20};\n    border-radius: 10px;\n    overflow: auto;\n    @media only screen and (max-width: 1450px) {\n        width: 99%;\n        height: 70%;\n        min-width: 300px;\n    };\n`;\n_c5 = Screen;\nconst SenderBox = styled.div`\n    display: flex;\n    justify-content: space-between;\n    align-items: center;\n    margin-top: 10px;\n    width: 740px;\n    min-width: 500px;\n    height: 50px;\n    @media only screen and (max-width: 1450px) {\n        width: 99%;\n        min-width: 200px;\n    }\n`;\n_c6 = SenderBox;\nconst Input = styled.input.attrs({\n  placeholder: '내용을 입력해주세요'\n})`\n    all: unset;\n    width: 84%;\n    min-height: 50px;\n    padding-left: 30px;\n    font-size: 18px;\n    color: ${({\n  theme\n}) => theme.colors.white};\n    background-color: ${({\n  theme\n}) => theme.colors.white20};\n    border-radius: 10px;\n    @media only screen and (max-width: 400px) {\n        width: 99%;\n    }\n`;\n_c7 = Input;\nconst SendBtn = styled.button`\n    all: unset;\n    width: 10%;\n    height: 50px;\n    font-size: 18px;\n    text-align: center;\n    background-color: ${({\n  theme\n}) => theme.colors.main60};\n    border-radius: 10px;\n    color: ${({\n  theme\n}) => theme.colors.white};\n    cursor: pointer;\n    transition: .3s ease;\n    &:hover {\n        background-color: ${({\n  theme\n}) => theme.colors.plum};\n        color: ${({\n  theme\n}) => theme.colors.black};\n    }\n    @media only screen and (max-width: 1450px) {\n        font-size: 15px;\n        width: 10%;\n    }\n`;\n_c8 = SendBtn;\nconst HandlerContainer = styled.div`\n    display: flex;\n    flex-direction: column;\n    justify-content: center;\n    align-items: center;\n    width: 100%;\n    min-width: 300px;\n    height: 740px;\n    border-radius: 10px;\n    background-color: ${({\n  theme\n}) => theme.colors.main60};\n    animation: ${fadeIn} .8s ease;\n    @media only screen and (max-width: 1450px) {\n        height: 70%;\n    }\n`;\n_c9 = HandlerContainer;\nconst Rule = styled.div`\n    display: flex;\n    flex-direction: column;\n    justify-content: center;\n    align-items: flex-start;\n`;\n_c10 = Rule;\nconst Ment = styled.div`\n    font-size: 17px;\n    margin-bottom: 10px;\n    white-space: nowrap;\n    color: ${({\n  theme\n}) => theme.colors.white};\n    @media only screen and (max-width: 1520px) {\n        font-size: 15px;\n    }\n`;\n_c11 = Ment;\nconst BigMent = styled(Ment)`\n    font-size: 30px;\n    color: ${({\n  theme\n}) => theme.colors.white};\n    @media only screen and (max-width: 1520px) {\n        font-size: 25px;\n    }\n`;\n_c12 = BigMent;\nconst StartBtn = styled(SendBtn)`\n    width: 150px;\n    height: 70px;\n    font-size: 20px;\n    &:hover {\n        color: ${({\n  theme\n}) => theme.colors.black};\n    }\n    @media only screen and (max-width: 1450px) {\n        width: 100px;\n        height: 50px;\n    }\n`;\n_c13 = StartBtn;\nconst CancelBtn = styled(StartBtn)`\n    &:hover {\n        background-color: ${({\n  theme\n}) => theme.colors.red};\n        color: ${({\n  theme\n}) => theme.colors.white};\n    }\n`;\n_c14 = CancelBtn;\nconst BtnBox = styled.div`\n    position: absolute;\n    bottom: 70px;\n    height: 35%;\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    @media only screen and (max-width: 1450px) {\n        bottom: -60px;\n    }\n`;\n_c15 = BtnBox;\n\nvar _c, _c2, _c3, _c4, _c5, _c6, _c7, _c8, _c9, _c10, _c11, _c12, _c13, _c14, _c15;\n\n$RefreshReg$(_c, \"ChatWindow$observer\");\n$RefreshReg$(_c2, \"ChatWindow\");\n$RefreshReg$(_c3, \"Row\");\n$RefreshReg$(_c4, \"ChatBox\");\n$RefreshReg$(_c5, \"Screen\");\n$RefreshReg$(_c6, \"SenderBox\");\n$RefreshReg$(_c7, \"Input\");\n$RefreshReg$(_c8, \"SendBtn\");\n$RefreshReg$(_c9, \"HandlerContainer\");\n$RefreshReg$(_c10, \"Rule\");\n$RefreshReg$(_c11, \"Ment\");\n$RefreshReg$(_c12, \"BigMent\");\n$RefreshReg$(_c13, \"StartBtn\");\n$RefreshReg$(_c14, \"CancelBtn\");\n$RefreshReg$(_c15, \"BtnBox\");","map":{"version":3,"sources":["/Users/hyeonghan/VSCode/React/Serendy/client/src/components/ChatPage/ChatWindow.tsx"],"names":["React","useState","useEffect","styled","fadeIn","zoomIn","zoomOut","Loader","theme","useChat","observer","userStore","ChatWindow","messageHistory","setMessageHistory","chat","userSocket","on","data","console","log","isMatched","display","inputMessage","handleInput","handleEnter","sendBtn","handleSendMsg","isSearching","marginBottom","colors","plum","handleSearch","Row","div","ChatBox","visibility","animation","Screen","ul","white20","SenderBox","Input","input","attrs","placeholder","white","SendBtn","button","main60","black","HandlerContainer","Rule","Ment","BigMent","StartBtn","CancelBtn","red","BtnBox"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from 'react';\nimport styled, { Keyframes } from 'styled-components';\nimport { fadeIn, zoomIn, zoomOut } from '../../style/keyframes';\nimport Loader from 'react-loader-spinner';\nimport { theme } from '../../style/theme';\nimport { useChat } from '../../Hooks/useChat';\nimport { VisibilityType } from '../../type';\nimport { observer } from 'mobx-react';\nimport MessageBox from './MessageBox';\nimport userStore from '../../store/userStore';\n\nconst ChatWindow: React.FC = observer(() => {\n    const [messageHistory, setMessageHistory] = useState<any>([]); // 메세지 내역을 담아두는 배열\n    const chat = useChat();\n\n    useEffect(() => {\n            userStore.userSocket?.on('upload', (data) => {\n            setMessageHistory([...messageHistory, data]);\n            console.log(data);\n            console.log(messageHistory);\n        })\n    }, []);\n\n    // useEffect(() => {\n    //     chat.recentMessage &&  chat.setMessageHistory([...chat.messageHistory, chat.recentMessage]);\n    // }, []);\n\n    return (\n        <Row>\n            <ChatBox animation={chat.isMatched ? zoomIn : zoomOut}\n                     visibility={chat.display}\n                     >\n                <Screen>\n                    {/* {chat.messageHistory?.map(x => (\n                        <MessageBox message={x} />\n                    ))} */}\n                </Screen>\n                <SenderBox>\n                    <Input value={chat.inputMessage}\n                           onChange={chat.handleInput}\n                           onKeyPress={chat.handleEnter}\n                           />\n                    <SendBtn ref={chat.sendBtn}\n                             onClick={chat.handleSendMsg}\n                             >\n                        전송\n                    </SendBtn>\n                </SenderBox>\n            </ChatBox>\n\n            <HandlerContainer>\n                {chat.isSearching ?\n                    <>\n                        <BigMent style={{ marginBottom: '30px' }} > 상대를 찾고 있습니다 </BigMent>\n                        <Loader type=\"Circles\" color={theme.colors.plum} height={60} width={60} />\n                        <BtnBox>\n                            <CancelBtn onClick={chat.handleSearch} > 취소하기 </CancelBtn>\n                        </BtnBox>\n                    </> :\n                    <>\n                        <BigMent> 상대를 찾고 대화를 시작하세요 ! </BigMent>\n                        <br />\n                        \n                        <Rule>\n                            <Ment size='18px'> · 채팅은 서로가 설정한 이름으로 진행돼요 </Ment>\n                            <Ment size='18px'> · 상대와 대화가 통하면 쪽지 요청을 보낼 수 있어요 </Ment>\n                            <Ment size='18px'> · 요청이 수락되면 채팅이 끝나도 쪽지를 보낼 수 있어요 </Ment>\n                            <Ment size='18px'> · 누군가 채팅방을 나가게되면 채팅은 종료돼요 </Ment>\n                        </Rule>\n                        <br />\n                        <BtnBox>\n                            <StartBtn onClick={chat.handleSearch} > 상대 찾기 </StartBtn>\n                        </BtnBox>\n                    </>}\n            </HandlerContainer>\n            \n        </Row>\n    );\n});\n\nexport default ChatWindow;\n\nconst Row = styled.div`\n    display: flex;\n    flex-direction: row;\n    justify-content: center;\n    align-items: center;\n    width: 100%;\n    height: 100%;\n    @media only screen and (max-width: 1450px) {\n        flex-direction: column;\n    }\n`;\n\nconst ChatBox = styled.div<{\n    animation: Keyframes,\n    visibility: VisibilityType,\n}>`\n    display: flex;\n    flex-direction: column;\n    justify-content: center;\n    align-items: center;\n    margin-right: 20px;\n    width: 100%;\n    height: 740px;\n    visibility: ${({ visibility }) => visibility};\n    animation: ${({ animation }) => animation} .7s ease forwards;\n    @media only screen and (max-width: 1450px) {\n        margin-right: 0px;\n        height: 90%;\n    }\n`;\n\nconst Screen = styled.ul`\n    width: 740px;\n    height: 680px;\n    min-width: 500px;\n    background-color: ${({ theme }) => theme.colors.white20};\n    border-radius: 10px;\n    overflow: auto;\n    @media only screen and (max-width: 1450px) {\n        width: 99%;\n        height: 70%;\n        min-width: 300px;\n    };\n`;\n\nconst SenderBox = styled.div`\n    display: flex;\n    justify-content: space-between;\n    align-items: center;\n    margin-top: 10px;\n    width: 740px;\n    min-width: 500px;\n    height: 50px;\n    @media only screen and (max-width: 1450px) {\n        width: 99%;\n        min-width: 200px;\n    }\n`;\n\nconst Input = styled.input.attrs(({\n    placeholder: '내용을 입력해주세요'\n}))`\n    all: unset;\n    width: 84%;\n    min-height: 50px;\n    padding-left: 30px;\n    font-size: 18px;\n    color: ${({ theme }) => theme.colors.white};\n    background-color: ${({ theme }) => theme.colors.white20};\n    border-radius: 10px;\n    @media only screen and (max-width: 400px) {\n        width: 99%;\n    }\n`;\n\nconst SendBtn = styled.button`\n    all: unset;\n    width: 10%;\n    height: 50px;\n    font-size: 18px;\n    text-align: center;\n    background-color: ${({ theme }) => theme.colors.main60};\n    border-radius: 10px;\n    color: ${({ theme }) => theme.colors.white};\n    cursor: pointer;\n    transition: .3s ease;\n    &:hover {\n        background-color: ${({ theme }) => theme.colors.plum};\n        color: ${({ theme }) => theme.colors.black};\n    }\n    @media only screen and (max-width: 1450px) {\n        font-size: 15px;\n        width: 10%;\n    }\n`;\n\nconst HandlerContainer = styled.div`\n    display: flex;\n    flex-direction: column;\n    justify-content: center;\n    align-items: center;\n    width: 100%;\n    min-width: 300px;\n    height: 740px;\n    border-radius: 10px;\n    background-color: ${({ theme }) => theme.colors.main60};\n    animation: ${fadeIn} .8s ease;\n    @media only screen and (max-width: 1450px) {\n        height: 70%;\n    }\n`;\n\nconst Rule = styled.div`\n    display: flex;\n    flex-direction: column;\n    justify-content: center;\n    align-items: flex-start;\n`;\n\nconst Ment = styled.div<{ size?: string }>`\n    font-size: 17px;\n    margin-bottom: 10px;\n    white-space: nowrap;\n    color: ${({ theme }) => theme.colors.white};\n    @media only screen and (max-width: 1520px) {\n        font-size: 15px;\n    }\n`;\n\nconst BigMent = styled(Ment)`\n    font-size: 30px;\n    color: ${({ theme }) => theme.colors.white};\n    @media only screen and (max-width: 1520px) {\n        font-size: 25px;\n    }\n`;\n\nconst StartBtn = styled(SendBtn)`\n    width: 150px;\n    height: 70px;\n    font-size: 20px;\n    &:hover {\n        color: ${({ theme }) => theme.colors.black};\n    }\n    @media only screen and (max-width: 1450px) {\n        width: 100px;\n        height: 50px;\n    }\n`;\n\nconst CancelBtn = styled(StartBtn)`\n    &:hover {\n        background-color: ${({ theme }) => theme.colors.red};\n        color: ${({ theme }) => theme.colors.white};\n    }\n`;\n\nconst BtnBox = styled.div`\n    position: absolute;\n    bottom: 70px;\n    height: 35%;\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    @media only screen and (max-width: 1450px) {\n        bottom: -60px;\n    }\n`;"]},"metadata":{},"sourceType":"module"}