{"ast":null,"code":"import{BrowserRouter,Route,Switch}from'react-router-dom';import{observer}from'mobx-react';import{ThemeProvider}from'styled-components';import GlobalStyle from'./style/global';import{useEffect}from'react';import PrivateRoute from'./components/publicComponents/PrivateRoute';import{theme}from'./style/theme';import Start from'./pages/Start';import Main from'./pages/Main';import SignIn from'./pages/SignIn';import SignUp from'./pages/SignUp';import SideBar from'./components/SideBar/SideBar';import Header from'./components/Header/Header';import MyPage from'./pages/MyPage';import ChatPage from'./pages/ChatPage';import PostPage from'./pages/PostPage';import userStore from'./store/userStore';import{io}from'socket.io-client';import{BASE_URL}from'./config';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var App=observer(function(){useEffect(function(){if(userStore.isSignIn){userStore.setUserSocket(io(BASE_URL));userStore.saveSocketID();}else{var _userStore$userSocket;(_userStore$userSocket=userStore.userSocket)===null||_userStore$userSocket===void 0?void 0:_userStore$userSocket.disconnect();userStore.setSocketID(null);}},[userStore.isSignIn]);//eslint-disable-line\nuseEffect(function(){userStore.signInWithToken();},[]);return/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsxs(ThemeProvider,{theme:theme,children:[/*#__PURE__*/_jsx(GlobalStyle,{}),/*#__PURE__*/_jsxs(BrowserRouter,{children:[/*#__PURE__*/_jsx(Header,{}),/*#__PURE__*/_jsx(SideBar,{}),/*#__PURE__*/_jsxs(Switch,{children:[/*#__PURE__*/_jsx(Route,{exact:true,path:\"/\",children:/*#__PURE__*/_jsx(Start,{})}),/*#__PURE__*/_jsx(Route,{exact:true,path:\"/login\",children:/*#__PURE__*/_jsx(SignIn,{})}),/*#__PURE__*/_jsx(Route,{exact:true,path:\"/signup\",children:/*#__PURE__*/_jsx(SignUp,{})}),/*#__PURE__*/_jsx(Route,{exact:true,path:\"/findpw\",children:\"Find Password\"}),/*#__PURE__*/_jsx(PrivateRoute,{exact:true,path:\"/main\",children:/*#__PURE__*/_jsx(Main,{})}),/*#__PURE__*/_jsx(PrivateRoute,{exact:true,path:\"/mypage\",children:/*#__PURE__*/_jsx(MyPage,{})}),/*#__PURE__*/_jsx(PrivateRoute,{exact:true,path:\"/chat\",children:/*#__PURE__*/_jsx(ChatPage,{})}),/*#__PURE__*/_jsx(PrivateRoute,{exact:true,path:\"/post\",children:/*#__PURE__*/_jsx(PostPage,{})})]})]})]})});});export default App;","map":{"version":3,"sources":["/Users/hyeonghan/VSCode/React/Serendy/client/src/App.tsx"],"names":["BrowserRouter","Route","Switch","observer","ThemeProvider","GlobalStyle","useEffect","PrivateRoute","theme","Start","Main","SignIn","SignUp","SideBar","Header","MyPage","ChatPage","PostPage","userStore","io","BASE_URL","App","isSignIn","setUserSocket","saveSocketID","userSocket","disconnect","setSocketID","signInWithToken"],"mappings":"AAAA,OAASA,aAAT,CAAwBC,KAAxB,CAA+BC,MAA/B,KAA6C,kBAA7C,CACA,OAASC,QAAT,KAAyB,YAAzB,CACA,OAASC,aAAT,KAA8B,mBAA9B,CACA,MAAOC,CAAAA,WAAP,KAAwB,gBAAxB,CACA,OAASC,SAAT,KAA0B,OAA1B,CACA,MAAOC,CAAAA,YAAP,KAAyB,4CAAzB,CACA,OAASC,KAAT,KAAsB,eAAtB,CACA,MAAOC,CAAAA,KAAP,KAAkB,eAAlB,CACA,MAAOC,CAAAA,IAAP,KAAiB,cAAjB,CACA,MAAOC,CAAAA,MAAP,KAAmB,gBAAnB,CACA,MAAOC,CAAAA,MAAP,KAAmB,gBAAnB,CACA,MAAOC,CAAAA,OAAP,KAAoB,8BAApB,CACA,MAAOC,CAAAA,MAAP,KAAmB,4BAAnB,CACA,MAAOC,CAAAA,MAAP,KAAmB,gBAAnB,CACA,MAAOC,CAAAA,QAAP,KAAqB,kBAArB,CACA,MAAOC,CAAAA,QAAP,KAAqB,kBAArB,CACA,MAAOC,CAAAA,SAAP,KAAsB,mBAAtB,CACA,OAASC,EAAT,KAAmB,kBAAnB,CACA,OAASC,QAAT,KAAyB,UAAzB,C,6IAEA,GAAMC,CAAAA,GAAa,CAAGlB,QAAQ,CAAC,UAAM,CAEjCG,SAAS,CAAC,UAAM,CACZ,GAAIY,SAAS,CAACI,QAAd,CAAwB,CACpBJ,SAAS,CAACK,aAAV,CAAwBJ,EAAE,CAACC,QAAD,CAA1B,EACAF,SAAS,CAACM,YAAV,GACH,CAHD,IAGO,2BACH,uBAAAN,SAAS,CAACO,UAAV,sEAAsBC,UAAtB,GACAR,SAAS,CAACS,WAAV,CAAsB,IAAtB,EACH,CACJ,CARQ,CAQN,CAACT,SAAS,CAACI,QAAX,CARM,CAAT,CAQ0B;AAE1BhB,SAAS,CAAC,UAAM,CACZY,SAAS,CAACU,eAAV,GACH,CAFQ,CAEN,EAFM,CAAT,CAIA,mBACI,sCACI,MAAC,aAAD,EAAe,KAAK,CAAEpB,KAAtB,wBACI,KAAC,WAAD,IADJ,cAEI,MAAC,aAAD,yBACI,KAAC,MAAD,IADJ,cAEI,KAAC,OAAD,IAFJ,cAGI,MAAC,MAAD,yBACI,KAAC,KAAD,EAAO,KAAK,KAAZ,CAAa,IAAI,CAAC,GAAlB,uBACI,KAAC,KAAD,IADJ,EADJ,cAII,KAAC,KAAD,EAAO,KAAK,KAAZ,CAAa,IAAI,CAAC,QAAlB,uBACI,KAAC,MAAD,IADJ,EAJJ,cAOI,KAAC,KAAD,EAAO,KAAK,KAAZ,CAAa,IAAI,CAAC,SAAlB,uBACI,KAAC,MAAD,IADJ,EAPJ,cAUI,KAAC,KAAD,EAAO,KAAK,KAAZ,CAAa,IAAI,CAAC,SAAlB,2BAVJ,cAaI,KAAC,YAAD,EAAc,KAAK,KAAnB,CAAoB,IAAI,CAAC,OAAzB,uBACI,KAAC,IAAD,IADJ,EAbJ,cAgBI,KAAC,YAAD,EAAc,KAAK,KAAnB,CAAoB,IAAI,CAAC,SAAzB,uBACI,KAAC,MAAD,IADJ,EAhBJ,cAmBI,KAAC,YAAD,EAAc,KAAK,KAAnB,CAAoB,IAAI,CAAC,OAAzB,uBACI,KAAC,QAAD,IADJ,EAnBJ,cAsBI,KAAC,YAAD,EAAc,KAAK,KAAnB,CAAoB,IAAI,CAAC,OAAzB,uBACI,KAAC,QAAD,IADJ,EAtBJ,GAHJ,GAFJ,GADJ,EADJ,CAqCH,CArD6B,CAA9B,CAuDA,cAAea,CAAAA,GAAf","sourcesContent":["import { BrowserRouter, Route, Switch } from 'react-router-dom';\nimport { observer } from 'mobx-react';\nimport { ThemeProvider } from 'styled-components';\nimport GlobalStyle from './style/global';\nimport { useEffect } from 'react';\nimport PrivateRoute from './components/publicComponents/PrivateRoute';\nimport { theme } from './style/theme';\nimport Start from './pages/Start';\nimport Main from './pages/Main';\nimport SignIn from './pages/SignIn';\nimport SignUp from './pages/SignUp';\nimport SideBar from './components/SideBar/SideBar';\nimport Header from './components/Header/Header';\nimport MyPage from './pages/MyPage';\nimport ChatPage from './pages/ChatPage';\nimport PostPage from './pages/PostPage';\nimport userStore from './store/userStore';\nimport { io } from 'socket.io-client';\nimport { BASE_URL } from './config';\n\nconst App: React.FC = observer(() => {\n\n    useEffect(() => {\n        if (userStore.isSignIn) {\n            userStore.setUserSocket(io(BASE_URL));\n            userStore.saveSocketID();\n        } else {\n            userStore.userSocket?.disconnect();\n            userStore.setSocketID(null);\n        }\n    }, [userStore.isSignIn]); //eslint-disable-line\n\n    useEffect(() => {\n        userStore.signInWithToken();\n    }, []);\n\n    return (\n        <>\n            <ThemeProvider theme={theme} >\n                <GlobalStyle />\n                <BrowserRouter>\n                    <Header />\n                    <SideBar />\n                    <Switch>\n                        <Route exact path='/'>\n                            <Start />\n                        </Route>\n                        <Route exact path='/login'>\n                            <SignIn />\n                        </Route>\n                        <Route exact path='/signup'>\n                            <SignUp />\n                        </Route>\n                        <Route exact path='/findpw'>\n                            Find Password\n                        </Route>\n                        <PrivateRoute exact path='/main'>\n                            <Main />\n                        </PrivateRoute>\n                        <PrivateRoute exact path='/mypage'>\n                            <MyPage />\n                        </PrivateRoute>\n                        <PrivateRoute exact path='/chat'>\n                            <ChatPage />\n                        </PrivateRoute>\n                        <PrivateRoute exact path='/post'>\n                            <PostPage />\n                        </PrivateRoute>\n                    </Switch>\n                </BrowserRouter>\n            </ThemeProvider>\n        </>\n    );\n});\n\nexport default App;\n"]},"metadata":{},"sourceType":"module"}